@using Microsoft.AspNetCore.Localization
@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer

@{
    var requestCulture = Context.Features.Get<IRequestCultureFeature>();
    var currentCulture = requestCulture?.RequestCulture.Culture.Name ?? "bg-BG";
}

<div class="language-switcher">
    <form asp-controller="Language" asp-action="SetLanguage" method="post" class="d-inline">
        <input type="hidden" name="returnUrl" value="@Context.Request.Path@Context.Request.QueryString" />
        <div class="btn-group" role="group">
            @if (currentCulture == "bg-BG")
            {
                <button type="submit" name="culture" value="bg-BG" class="btn btn-sm btn-primary active">БГ</button>
                <button type="submit" name="culture" value="en-US" class="btn btn-sm btn-outline-primary">EN</button>
            }
            else
            {
                <button type="submit" name="culture" value="bg-BG" class="btn btn-sm btn-outline-primary">БГ</button>
                <button type="submit" name="culture" value="en-US" class="btn btn-sm btn-primary active">EN</button>
            }
        </div>
    </form>
</div>

<style>
    .language-switcher {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 1000;
    }
    
    .language-switcher .btn-group .btn {
        border-radius: 0;
        font-weight: bold;
        font-size: 12px;
        padding: 5px 10px;
    }
    
    .language-switcher .btn-group .btn:first-child {
        border-top-left-radius: 4px;
        border-bottom-left-radius: 4px;
    }
    
    .language-switcher .btn-group .btn:last-child {
        border-top-right-radius: 4px;
        border-bottom-right-radius: 4px;
    }
    
    .language-switcher .btn-primary {
        background-color: #ff6b35;
        border-color: #ff6b35;
    }
    
    .language-switcher .btn-outline-primary {
        color: #ff6b35;
        border-color: #ff6b35;
    }
    
    .language-switcher .btn-outline-primary:hover {
        background-color: #ff6b35;
        border-color: #ff6b35;
        color: white;
    }
</style>
